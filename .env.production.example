# gLabels Batch Service - Production Configuration Template
# Copy this file to .env.production and adjust values as needed
# 
# WARNING: DO NOT commit .env.production with real values to git!
# Prefer using system environment variables in production instead of .env files.

# ======================
# Environment mode
# ======================
# CRITICAL: Must be set to production
ENVIRONMENT=production

# ======================
# Server settings
# ======================
HOST=0.0.0.0
PORT=8000

# CRITICAL: MUST be false in production!
# Setting RELOAD=true will cause the application to fail startup validation
RELOAD=false

# ======================
# Application settings
# ======================

# Production: false (saves disk space and improves security)
KEEP_CSV=false

# Maximum number of parallel jobs
# 0 = auto (CPU count - 1), >0 = explicit number (e.g. 4)
# Production recommendation: Set based on available CPU cores
MAX_PARALLEL=0

# Maximum labels per batch before auto-split and PDF merge
# Production recommendation: 500-800 for x86 servers, 200-300 for ARM/embedded
MAX_LABELS_PER_BATCH=300

# Maximum labels per job request
MAX_LABELS_PER_JOB=2000

# Timeout per job in seconds (default 600 = 10 minutes)
# Production: Adjust based on typical job size
GLABELS_TIMEOUT=600

# Hours to retain job state in memory before cleanup
# Production: Lower value saves memory (e.g., 12-24 hours)
RETENTION_HOURS=24

# Maximum request body size in bytes (default 5MB)
MAX_REQUEST_BYTES=5000000

# Maximum number of fields per label record
MAX_FIELDS_PER_LABEL=50

# Maximum length per field value
MAX_FIELD_LENGTH=2048

# ======================
# Logging settings
# ======================

# Production: WARNING or ERROR (reduces log volume)
# Use INFO for initial deployment, then raise to WARNING/ERROR
LOG_LEVEL=WARNING

# Directory for log files (relative or absolute). Default: logs
LOG_DIR=logs

# ======================
# CORS settings
# ======================

# Comma-separated list of allowed origins
# Production: Specify exact origins (never use *)
# Example: CORS_ALLOW_ORIGINS=https://your-frontend.com,https://app.example.com
CORS_ALLOW_ORIGINS=
